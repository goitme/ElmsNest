{% comment %}
Elmsnest - High-Conversion Homepage Template for Shopify
Custom template for wooden bear family figurines
{% endcomment %}

{% assign product = collections.all.products.first %}
{% if collections['wooden-bears'] and collections['wooden-bears'].products.size > 0 %}
  {% assign product = collections['wooden-bears'].products.first %}
{% endif %}

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <div class="badge">
                    üéÅ Today Only: Free Personalization + Gift Box
                </div>
                <h1>Don't Let Your Family's Most Precious Memories Fade Away</h1>
                <p class="subheadline">Turn fleeting moments into timeless wooden heirlooms engraved with your family's names.</p>
                <button class="cta-button primary" onclick="addToCart('{{ product.variants.first.id }}')">
                    Order Yours Now ‚Äì {{ product.price | money }}
                </button>
            </div>
            <div class="hero-image">
                {% if product.featured_image %}
                    <img src="{{ product.featured_image | img_url: '800x800' }}" 
                         alt="{{ product.featured_image.alt | default: product.title }}" 
                         loading="eager"
                         width="800" 
                         height="800" />
                {% else %}
                    <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?fm=webp&q=85&w=800&h=800&fit=crop&auto=format" 
                         alt="Handcrafted wooden bear family figurine" 
                         loading="eager"
                         width="800" 
                         height="800" />
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Value Proposition Section -->
<section class="value-proposition">
    <div class="container">
        <h2>Why Families Are Choosing Elmsnest</h2>
        <div class="value-points">
            <div class="value-point">
                <div class="icon">‚úÖ</div>
                <span>Personalized With Each Family Member's Name</span>
            </div>
            <div class="value-point">
                <div class="icon">‚úÖ</div>
                <span>Handmade From Premium Natural Wood</span>
            </div>
            <div class="value-point">
                <div class="icon">‚úÖ</div>
                <span>Comes In Luxury Gift Box</span>
            </div>
            <div class="value-point">
                <div class="icon">‚úÖ</div>
                <span>Perfect For Anniversaries, Parents, Kids</span>
            </div>
            <div class="value-point">
                <div class="icon">‚úÖ</div>
                <span>Lifetime Guarantee</span>
            </div>
        </div>
    </div>
</section>

<!-- Customer Images Section -->
<section class="customer-images">
    <div class="container">
        <div class="customer-gallery">
            {% comment %} You can replace these with actual customer photos from your Shopify Files {% endcomment %}
            <div class="customer-image">
                <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?fm=webp&q=85&w=600&h=400&fit=crop&auto=format" 
                     alt="Happy family with wooden bear" 
                     loading="lazy"
                     width="600" 
                     height="400">
                <p class="testimonial">"Our kids love their personalized bears. Such beautiful craftsmanship!" - Sarah M.</p>
            </div>
            <div class="customer-image">
                <img src="https://images.unsplash.com/photo-1543722530-d2c3201371e7?fm=webp&q=85&w=600&h=400&fit=crop&auto=format" 
                     alt="Wooden bears on family table" 
                     loading="lazy"
                     width="600" 
                     height="400">
                <p class="testimonial">"Perfect anniversary gift. The engraving is absolutely perfect." - Michael R.</p>
            </div>
            <div class="customer-image">
                <img src="https://images.unsplash.com/photo-1609220136736-443140cffec6?fm=webp&q=85&w=600&h=400&fit=crop&auto=format" 
                     alt="Gift box with wooden bears" 
                     loading="lazy"
                     width="600" 
                     height="400">
                <p class="testimonial">"Arrived beautifully packaged. Exceeded all expectations!" - Emma K.</p>
            </div>
        </div>
    </div>
</section>

<!-- Product Snapshot Card -->
<section class="product-snapshot">
    <div class="container">
        <div class="product-card">
            <div class="product-image">
                {% if product.featured_image %}
                    <img src="{{ product.featured_image | img_url: '400x400' }}" 
                         alt="{{ product.title }}" 
                         loading="lazy"
                         width="400" 
                         height="400">
                {% else %}
                    <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?fm=webp&q=85&w=400&h=400&fit=crop&auto=format" 
                         alt="Custom Family Bear" 
                         loading="lazy"
                         width="400" 
                         height="400">
                {% endif %}
            </div>
            <div class="product-info">
                <h3>{{ product.title | default: "Custom Family Bear" }}</h3>
                <div class="price">{{ product.price | money }}</div>
                <div class="rating">
                    <span class="stars">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</span>
                    <span class="reviews">(2,847 Reviews)</span>
                </div>
                <button class="cta-button secondary" onclick="addToCart('{{ product.variants.first.id }}')">Buy Now</button>
            </div>
        </div>
    </div>
</section>

<!-- Trust Section -->
<section class="trust-section">
    <div class="container">
        <div class="trust-badges">
            <div class="trust-badge">
                <span class="icon">üöö</span>
                <span>Free Shipping</span>
            </div>
            <div class="trust-badge">
                <span class="icon">üõ°Ô∏è</span>
                <span>Lifetime Guarantee</span>
            </div>
            <div class="trust-badge">
                <span class="icon">üïí</span>
                <span>Fast Processing (1‚Äì2 days)</span>
            </div>
            <div class="trust-badge">
                <span class="icon">‚ù§Ô∏è</span>
                <span>Loved by 12,000+ Families</span>
            </div>
        </div>
    </div>
</section>

<!-- Comparison Table -->
<section class="comparison">
    <div class="container">
        <h2>Why Elmsnest vs Others?</h2>
        <div class="comparison-table">
            <div class="comparison-column elmsnest">
                <h3>‚úÖ Elmsnest</h3>
                <ul>
                    <li>Real wood construction</li>
                    <li>Laser engraving precision</li>
                    <li>Heirloom quality craftsmanship</li>
                    <li>Luxury gift box included</li>
                    <li>Lifetime guarantee</li>
                </ul>
            </div>
            <div class="comparison-column others">
                <h3>‚ùå Generic Gifts</h3>
                <ul>
                    <li>Cheap stickers or plastic</li>
                    <li>Low-quality materials</li>
                    <li>Mass-produced items</li>
                    <li>No proper packaging</li>
                    <li>No warranty protection</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Guarantee Section -->
<section class="guarantee">
    <div class="container">
        <div class="guarantee-content">
            <div class="guarantee-icon">üõ°Ô∏è</div>
            <h2>100% Love It or Money Back Guarantee</h2>
            <p>If you're not completely in love with your wooden bear, get a full refund. No questions asked.</p>
        </div>
    </div>
</section>

<!-- Mobile Sticky CTA -->
<div class="mobile-sticky-cta">
    <div class="sticky-content">
        <div class="sticky-price">{{ product.price | money }} + Free Gift Box</div>
        <button class="cta-button sticky" onclick="addToCart('{{ product.variants.first.id }}')">Buy Now üõí</button>
    </div>
</div>

<!-- Shopify Cart Integration -->
<script>
function addToCart(variantId) {
    // Add pulse animation
    event.target.style.transform = 'scale(0.95)';
    setTimeout(() => {
        event.target.style.transform = '';
    }, 150);
    
    // Add to Shopify cart
    fetch('/cart/add.js', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            quantity: 1,
            id: variantId
        })
    })
    .then(response => response.json())
    .then(data => {
        // Redirect to cart or checkout
        window.location.href = '/cart';
    })
    .catch(error => {
        console.error('Error adding to cart:', error);
        // Fallback: redirect to product page
        window.location.href = '/products/{{ product.handle }}';
    });
}
</script>